# Жизненный цикл файлов

Во время работы над проектом на различных этапах разработки необходимо сохранять его текущее состояние. Для этого как раз используется Git, в котором каждая версия проекта связана с предыдущими. Это позволяет разработчику просматривать полную историю изменений.

Для начала давайте разберёмся с некоторыми терминами.&#x20;

\
В Git есть понятие **«область подготовки»**, или **«индекс»** (staging area). Так в системе называется промежуточное хранилище, куда вы добавляете изменения, которые планируете включить в следующий коммит. Оно выполняет функцию контейнера, который хранит текущее состояние изменений перед их фиксацией в репозитории.

Основная работа ведётся в **рабочем каталоге** — это текущая рабочая директория, в которой создаются новые файлы, вносятся в них изменения и удаляются существующие.

Система контроля версий Git предполагает, что каждый файл в локальном репозитории находится в одном из четырёх состояний:

* **Untracked (неотслеживаемый):** файл не отслеживается, то есть Git не знает о его существовании. Он есть в рабочем каталоге (когда вы работаете в нём), но не включён в область подготовки и не добавлен в Git.
* **Unmodified (неизменный)**: файл не менялся с момента последнего коммита. Git следит за ним, поэтому его содержимое остаётся неизменным.
* **Modified (изменённый):** файл менялся с момента последнего коммита. Git заметил изменения в нём, но их пока нельзя включить в следующий коммит. Файл находится в рабочем каталоге, но не добавлен в область подготовки, чтобы быть включённым в следующий коммит.
* **Staged (отслеживаемый)**: изменённый файл, который добавлен в область подготовки и готов к включению в следующий коммит. Git готов сохранить его состояние в репозитории.

Рассмотрим подробнее, как происходит переход между этими состояниями:

<figure><img src=".gitbook/assets/Рис_2_PqIb6j9 (1).png" alt=""><figcaption><p>Состояния файлов в Git</p></figcaption></figure>

* **Untracked → Unmodified.** Файлы, которые были неотслеживаемыми (untracked), могут стать неизменными (unmodified), если вы добавите их в отслеживаемые файлы с помощью команды git add. Тогда Git начнёт контролировать изменения в этих файлах.
* **Unmodified → Modified.** Когда вы вносите изменения в файл, который ранее был неизменным (unmodified), Git автоматически помечает его как изменённый (modified). Это происходит после того, как вы отредактировали файл, не добавив его в область подготовки.
* **Modified → Staged.** Чтобы подготовить изменённый файл к коммиту, нужно добавить его в область подготовки с помощью команды git add. Теперь файл перейдёт из состояния изменённого (modified) в состояние отслеживаемого (staged), то есть он будет готов к включению в следующий коммит.
* **Staged → Unmodified.** После того как был сделан коммит с отслеживаемыми файлами в состоянии staged, Git возвращает их в состояние неизменяемых (unmodified). Это значит, что содержимое файла соответствует последнему коммиту и его можно считать чистым.
